# Отчет по выполнению Задания №1 (Ansible Base)

### Что было сделано:
Развернул лабу из двух виртуалок (Ubuntu и Fedora), настроил беспарольный доступ по SSH и автоматизировал базовую настройку через три отдельных плейбука.

---

## 0. Подготовка инвентаря
Для управления серверами настроил файл `hosts.ini`. Разделил их по группам (OS) и прописал глобальные переменные для ключей и Python, чтобы Ansible не ругался на интерпретаторы.

> **Сюда скрин №1:** Содержимое твоего файла `hosts.ini` (там где `[ubuntu]`, `[fedora]` и `[all:vars]`).

---

## 1. Плейбук для работы с архивами (Kafka)
**Файл:** `task1_archive.yml`

**Что делает:** 1. Создает рабочую директорию `/opt/tools`.
2. Качает бинарник Apache Kafka (v3.9.0) прямо с зеркала Apache.
3. Распаковывает его в ту же папку.

**Зачем:** Это база для деплоя любого софта, которого нет в стандартных репозиториях.

> **Сюда скрин №2:** Вывод команды `ansible-playbook task1_archive.yml -K`.
> **Сюда скрин №3:** Результат проверки: `ansible ubuntu_vm -a "ls -lh /opt/tools"`.

---

## 2. Плейбук для оптимизации системы (Tuned)
**Файл:** `task1_tuned.yml`

**Что делает:**
1. Ставит пакет `tuned` через `dnf` (только на Fedora).
2. Стартует демона и вешает его в автозагрузку.
3. Применяет профиль `throughput-performance` через модуль `command`.

**Зачем:** Чтобы сервер не «спал», а выдавал максимум ресурсов под нагрузку (актуально для той же Kafka).

> **Сюда скрин №4:** Вывод выполнения `ansible-playbook task1_tuned.yml -K`.
> **Сюда скрин №5:** Подтверждение на Fedora: `ansible fedora_vm -a "tuned-adm active"`.

---

## 3. Плейбук для кастомизации приветствия (MOTD)
**Файл:** `task1_motd.yml` и файл переменных `vars.yml`

**Что делает:**
1. Берет текст приветствия из внешнего файла `vars.yml` (использовал `vars_files`).
2. Перезаписывает файл `/etc/motd` на всех серверах.

**Зачем:** Выполнил требование по использованию переменных. Теперь сразу видно, что сервер под управлением Ansible.

> **Сюда скрин №6:** Содержимое файла `vars.yml` и сам код плейбука с `vars_files`.
> **Сюда скрин №7:** Финальный аккорд — вход по SSH на Ubuntu, где в самом низу красуется наше кастомное приветствие.

---

## Итог
Все задачи выполнены. Плейбуки идемпотентны (при повторном запуске ничего не ломают, статус `changed=0`). Ошибок нет, профит!